// Generated by CoffeeScript 1.6.3
(function() {
  jQuery(function() {
    $('.btn-div').on('click', '.approve-button.btn-danger', function() {
      var button, event_id, response, type, user_id;
      button = $(this);
      user_id = $('#userid').text();
      event_id = button.data('event-id');
      type = button.data('type');
      response = $.ajax('/ajax/main/toggle_event_approval.json', {
        data: {
          'user_id': user_id,
          'event_id': event_id,
          'type': type
        },
        success: function(data) {
          button.removeClass('btn-danger').addClass('btn-success').html('Approve');
          button.parents('tr').removeClass().addClass('danger');
          return button.parents('tr').children('.status-field').html(data.data.status);
        },
        error: function() {
          console.log(type);
          console.log(user_id);
          return console.log(event_id);
        },
        timeout: 3000,
        type: "POST"
      });
      return void 0;
    });
    $('.btn-div').on('click', '.approve-button.btn-success', function() {
      var button, event_id, response, type, user_id;
      button = $(this);
      user_id = $('#userid').text();
      event_id = button.data('event-id');
      type = button.data('type');
      response = $.ajax('/ajax/main/toggle_event_approval.json', {
        data: {
          'user_id': user_id,
          'event_id': event_id,
          'type': type
        },
        success: function(data) {
          button.removeClass('btn-success').addClass('btn-danger').html('Disapprove');
          button.parents('tr').removeClass();
          return button.parents('tr').children('.status-field').html(data.data.status);
        },
        timeout: 3000,
        type: "POST"
      });
      return void 0;
    });
    return void 0;
  });

}).call(this);
